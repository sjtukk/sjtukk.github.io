---
layout:     post
date:       2021-11-21
author:     "kk"
title: "常用命令"
header-style: text
tags:
  - 基础

---

### python

- random.randint(a, b):  闭区间，[a, b]

- str.strip(char): 去除首尾字符

- os.listdir(path)：获取path文件夹下的所有文件名

  os.path.join(root, path)：构成新的路径

- for i in range(10)：i的取值范围为：[0, 10)

- str —> int，float：int(str), float(str)

  int, float —> str： str(int), str(float)

- 得到在a列表中但不再b列表中的元素：

  c = [item for item in a if not in b]

- 读取/写入文件：

  ```python
  # 第一种
  f = open(filepath, "r")
  f.close()
  
  # 第二种
  with open(filepath, "r") as f:
      lines = f.readlines()
  
  with open(filepath, "w") as f:
  	f.write("abc")
  ```

- 列表append，extend

  ```python
  list1 = [1, 2, 3]
  list2 = [4, 5, 6]
  list1.append(list2)
  print(list1)
  # [1, 2, 3, [4, 5, 6]]
  list1.extend(list2)
  print(list1)
  # [1, 2, 3, [4, 5, 6], 4, 5, 6]
  ```

- numpy

  ```python
  np.concatenate((array1, array2...arrayN), axis = 0)
  # axis = 0：表示是纵向拼接
  # axis = 1：表示横向拼接
  ```

- 设置GPU

  ```python
  import os 
  os.environ['CUDA_VISIBLE_DEVICES'] = "3" 
  ```

### pytorch

- 类型转换

  ```python
  list —> tensor:  torch.Tensor(list)
  
  ndarray —> tensor: torch.from_numpy(ndarray)
  
  tensor —> ndarray:  tensor.numpy()
  
  tensor —> list :  tensor —> ndarray —> list
  
  ndarray —> list：ndarray.tolist()
  
  list —> ndarray：numpy.array(list)
  ```

- Tensor类型

  ```python
  torch.ByteTensor: uint8
      
  torch.CharTensor: int8
      
  torch.IntTensor: int32
      
  torch.LongTensor: int64
      
  torch.Tensor: float32
      
  torch.FloatTensor: float32
  ```

- 数据集

  **mnist: 10类**

  - train: [50000, 28, 28]
  - test: [10000, 28, 28]

  **cifar10：10类**

  - train: [50000, 3, 32, 32]
  - test: [10000, 3, 32, 32]

  **imdb： 2类**

  - train：12500 positive, 12500 negtive
  - test:     12500 positive, 12500 negtive

### conda

- linux下安装anaconda

  下载地址：https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/（清华镜像站）

  bash Anaconda3-5.2.0-Linux-x86_64.sh（具体的anaconda版本），然后一路回车和yes

- 移除conda环境

  conda remove -n 环境名字 --all

- vscode中使用notebook

  pip install --upgrade pip (更新pip)

  pip install -U ipykernel

- pip导出依赖

  导出：pip freeze > requirements.txt

  安装：pip install -r requirements.txt

- conda导出依赖

  导出：conda env export > env.yaml

  安装：conda env create -f env.yaml

### linux

- 解压tar.gz文件：tar -zxvf xxx.tar.gz

- 删除文件夹：rm -rf 文件夹名字

  删除文件：rm -f 文件名

- 复制文件夹：cp -r source destination

  复制文件：cp source destination

- 查看进程：ps -ef

  搜索进程：ps -ef|grep python

- 搜索文件：find 路径 -name 文件名

- 首先两台服务器都需要安装ssh

  然后需要修改文件夹访问权限（两台服务器都要）：chmod 777 文件夹名

  跨服务器传文件：scp -P（大写） 端口号 -r 本地的文件目录 服务器的用户名@服务器IP：文件夹

- 用户分为三类：超级用户（root）， 系统用户， 普通用户

- 文件权限：一共9位（二进制下），前三位是文件所有者（属主），中间三位是文件所属组（属组），最后三位是其他用户

  r：读，w：写，x：执行（0代表关闭，1代表打开）

  所以，如果允许所有人访问的话是111 111 111， 八进制就是777

  设置文件权限， chmod  权限（比如777） 文件名


### git

- 配置用户名和密码

  git config --global user.name "sjtukk"

  git config --global user.email 976911453@qq.com

- 给分支添加描述信息

  git config branch.分支名.description "描述信息"

- 查看分支描述信息

  git config branch.分支名.description 

- 创建分支

  git branch 分支名

  切换分支

  git checkout 分支名
  
  合并分支
  
  先切换到主分支，然后： git merge 分支名

- 添加远程仓库

  git remote add origin 仓库地址

- 在项目开发过程中个，一般都会添加 .gitignore 文件，规则很简单，但有时会发现，规则不生效。
  原因是 .gitignore 只能忽略那些原来没有被track的文件，如果某些文件已经被纳入了版本管理中，则修改.gitignore是无效的。
  那么解决方法就是先把本地缓存删除（全部改变成未track状态），然后再提交。

  ```
  git rm -r --cached .
  git add .
  git commit -m 'update .gitignore'
  git push
  ```

### vscode

- vscode的相对路径是相对于工程下.vscode的路径